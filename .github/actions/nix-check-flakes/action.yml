name: Parse nix files
description: Attempt to parse all .nix files in the repository.
author: AceOfKestrels

inputs:
    update_lock_file:
        description: "Whether to update the flakes' lock files before checking"
        required: false
        default: false

runs:
    using: composite
    steps: 
      - name: Check Flakes
        shell: bash
        env:
            UPDATE_LOCK_FILE: ${{ inputs.update_lock_file }}
            NIX_CONFIG: "experimental-features = nix-command flakes"
        run: |
            echo "This repository is deprecated."
            echo "Workflows are now located at KestrelsDevelopment/Workflows"
            exit 1